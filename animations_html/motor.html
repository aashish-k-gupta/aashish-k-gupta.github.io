<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<link type="text/css" href="https://www.glowscript.org/css/ide.css" rel="stylesheet" />
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.2.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--

// START JAVASCRIPT
;(function() {;
var ρσ_modules = {};
var run;
ρσ_modules.pythonize = {};

(function(){
    function strings() {
        var string_funcs, exclude, name;
        string_funcs = set("capitalize strip lstrip rstrip islower isupper isspace lower upper swapcase center count endswith startswith find rfind index rindex format join ljust rjust partition rpartition replace split rsplit splitlines zfill".split(" "));
        if (!arguments.length) {
            exclude = (function(){
                var s = ρσ_set();
                s.jsset.add("split");
                s.jsset.add("replace");
                return s;
            })();
        } else if (arguments[0]) {
            exclude = Array.prototype.slice.call(arguments);
        } else {
            exclude = null;
        }
        if (exclude) {
            string_funcs = string_funcs.difference(set(exclude));
        }
        var ρσ_Iter0 = string_funcs;
        ρσ_Iter0 = ((typeof ρσ_Iter0[Symbol.iterator] === "function") ? (ρσ_Iter0 instanceof Map ? ρσ_Iter0.keys() : ρσ_Iter0) : Object.keys(ρσ_Iter0));
        for (var ρσ_Index0 of ρσ_Iter0) {
            name = ρσ_Index0;
            (ρσ_expr_temp = String.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name] = (ρσ_expr_temp = ρσ_str.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name];
        }
    };
    if (!strings.__module__) Object.defineProperties(strings, {
        __module__ : {value: "pythonize"}
    });

    ρσ_modules.pythonize.strings = strings;
})();
async function __main__() {
"use strict";
    var display = canvas;
    var scene = canvas();

    function round(num, n=0) {return Number(num.toFixed(n))}

    var version, print, arange, __name__, type, ρσ_ls, motor, cl, ns, p2, p1, p, c, cont, con, i, s, balls, sc, sce, shaft, gr, gre, r0, r1, r2, r3, theta, d, dlt, thk, start, middledir, perp, p1end, endpt1, nextstart, endpt2, a, p3, b, p4, pc, ex, x, n, L, r, inner, outer, pos, c0, br, bre, bh, bhe1, bhe2, scrh, scrhw1path, scrhw2path, scrhw1, scrhw2, scrb, yi, yf, dy, pts, scrbe1, scrbe2, crdl, crdle, col, cbl1i, cbl1o, cb12ipos, cbl2i, bra, brb, br1, br2, bbrs1, bbrs2, ex1, ex2, pp, tt, p5, h1, h2, R, t, run, angl, o;
    version = ρσ_list_decorate([ "3.2", "glowscript" ]);
    Array.prototype['+'] = function(r) {return this.concat(r)}
    Array.prototype['*'] = function(r) {return __array_times_number(this, r)}
    window.__GSlang = "vpython";
    print = GSprint;
    arange = range;
    __name__ = "__main__";
    type = pytype;
    var strings = ρσ_modules.pythonize.strings;

    strings();
    "5";
    scene.width = 1024;
    "6";
    scene.height = 768;
    "7";
    scene.center = vec(1["-u"]()["*"](2), 0, 0);
    "8";
    scene.range = 7;
    "10";
    motor = ρσ_list_decorate([]);
    "11";
    cl = 2;
    "12";
    ns = 24;
    "14";
    async function makearc() {
        var center = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? makearc.__defaults__.center : arguments[0];
        var radius = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? makearc.__defaults__.radius : arguments[1];
        var angle1 = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? makearc.__defaults__.angle1 : arguments[2];
        var angle2 = (arguments[3] === undefined || ( 3 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? makearc.__defaults__.angle2 : arguments[3];
        var ccw = (arguments[4] === undefined || ( 4 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? makearc.__defaults__.ccw : arguments[4];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "center")){
            center = ρσ_kwargs_obj.center;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "radius")){
            radius = ρσ_kwargs_obj.radius;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "angle1")){
            angle1 = ρσ_kwargs_obj.angle1;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "angle2")){
            angle2 = ρσ_kwargs_obj.angle2;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "ccw")){
            ccw = ρσ_kwargs_obj.ccw;
        }
        var ρσ_ls, n, dtheta, ret, i;
        "16";
        if (angle2["<"](angle1)) {
            "17";
            throw new (await Exception("Both angles must be positive, with angle2 > angle1"));
        }
        "18";
        n = 20;
        "19";
        dtheta = abs(angle2["-"](1["*"](angle1)))["/"](n);
        "20";
        ret = ρσ_list_decorate([]);
        "21";
        for (var ρσ_Index1 = 0; ρσ_Index1["<"](n["+"](1)); ρσ_Index1++) {
            i = ρσ_Index1;
            "22";
            if (ccw) {
                "24";
                ret.append(ρσ_list_decorate([ ρσ_getitem(center, 0)["+"](radius["*"](cos(angle1["+"](i["*"](dtheta))))), ρσ_getitem(center, 1)["+"](radius["*"](sin(angle1["+"](i["*"](dtheta))))) ]));
                "25";
            } else {
                "27";
                ret.append(ρσ_list_decorate([ ρσ_getitem(center, 0)["+"](radius["*"](cos(angle2["-"](1["*"](i)["*"](dtheta))))), ρσ_getitem(center, 1)["+"](radius["*"](sin(angle2["-"](1["*"](i)["*"](dtheta))))) ]));
            }
        }
        "28";
        return ret;
    };
    if (!makearc.__defaults__) Object.defineProperties(makearc, {
        __defaults__ : {value: {center:ρσ_list_decorate([ 0, 0 ]), radius:1, angle1:2["*"](pi)["-"](1["*"](pi)["/"](4)), angle2:2["*"](pi)["+"](pi["/"](4)), ccw:true}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["center", "radius", "angle1", "angle2", "ccw"]},
        __module__ : {value: null}
    });

    "30";
    async function rotatepoints() {
        var points = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? rotatepoints.__defaults__.points : arguments[0];
        var angle = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? rotatepoints.__defaults__.angle : arguments[1];
        var origin = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? rotatepoints.__defaults__.origin : arguments[2];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "points")){
            points = ρσ_kwargs_obj.points;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "angle")){
            angle = ρσ_kwargs_obj.angle;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "origin")){
            origin = ρσ_kwargs_obj.origin;
        }
        var ρσ_ls, s, ret, p;
        "31";
        s = ρσ_interpolate_kwargs.call(this, sphere, [ρσ_desugar_kwargs({visible: false})]);
        "32";
        ret = ρσ_list_decorate([]);
        "33";
        var ρσ_Iter2 = points;
        ρσ_Iter2 = ((typeof ρσ_Iter2[Symbol.iterator] === "function") ? (ρσ_Iter2 instanceof Map ? ρσ_Iter2.keys() : ρσ_Iter2) : Object.keys(ρσ_Iter2));
        for (var ρσ_Index2 of ρσ_Iter2) {
            p = ρσ_Index2;
            "34";
            s.pos = vec(ρσ_getitem(p, 0), ρσ_getitem(p, 1), 0);
            "35";
            ρσ_interpolate_kwargs.call(s, s.rotate, [ρσ_desugar_kwargs({angle: angle, axis: vec(0, 0, 1), origin: origin})]);
            "36";
            ret.append(ρσ_list_decorate([ s.pos.x, s.pos.y ]));
        }
        "37";
        return ret;
    };
    if (!rotatepoints.__defaults__) Object.defineProperties(rotatepoints, {
        __defaults__ : {value: {points:ρσ_list_decorate([ ρσ_list_decorate([ 1, 0 ]), ρσ_list_decorate([ 0, 1 ]) ]), angle:0, origin:vec(0, 0, 0)}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["points", "angle", "origin"]},
        __module__ : {value: null}
    });

    "42";
    p2 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: .5, angle1: 0, angle2: pi["/"](20), ccw: false})]));
    "43";
    p1 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: 1.2, angle1: 0, angle2: pi["/"](15), ccw: true})]));
    "44";
    p = p1["+"](p2)["+"](ρσ_list_decorate([ ρσ_getitem(p1, 0) ]));
    "45";
    c = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(0, 0, 0), vec(2, 0, 0) ]), shape: p, color: vec(1, .5, .3)})]);
    "46";
    cont = ρσ_list_decorate([ c ]);
    "47";
    for (var ρσ_Index3 = 1; ρσ_Index3["<"](24); ρσ_Index3++) {
        i = ρσ_Index3;
        "48";
        con = c.clone();
        "49";
        ρσ_interpolate_kwargs.call(con, con.rotate, [ρσ_desugar_kwargs({angle: i["*"](2)["*"](pi)["/"](24), axis: vec(1["-u"]()["*"](1), 0, 0), origin: vec(0, 0, 0)})]);
        "50";
        cont.append(con);
    }
    "51";
    motor.append(compound(cont));
    "55";
    p1 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: 1.4, angle1: 2["*"](pi)["-"](1["*"](.5)["*"](pi)["/"](24)), angle2: 2["*"](pi)["+"](.4["*"](pi)["/"](24)), ccw: true})]));
    "56";
    p2 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: .7, angle1: 2["*"](pi)["-"](1["*"](.5)["*"](pi)["/"](30)), angle2: 2["*"](pi)["+"](.4["*"](pi)["/"](30)), ccw: false})]));
    "57";
    p = p1["+"](p2)["+"](ρσ_list_decorate([ ρσ_getitem(p1, 0) ]));
    "58";
    c = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1["-u"]()["*"](.4), 0, 0), vec(0, 0, 0) ]), shape: p, color: vec(1, .5, .3)})]);
    "59";
    s = ρσ_interpolate_kwargs.call(this, sphere, [ρσ_desugar_kwargs({pos: vec(1["-u"]()["*"](.2), 0, 1.195), radius: .1, shininess: 1})]);
    "60";
    cont = ρσ_list_decorate([ c ]);
    "61";
    balls = ρσ_list_decorate([]);
    "62";
    for (var ρσ_Index4 = 0; ρσ_Index4["<"](23); ρσ_Index4++) {
        i = ρσ_Index4;
        "63";
        con = c.clone();
        "64";
        ρσ_interpolate_kwargs.call(con, con.rotate, [ρσ_desugar_kwargs({angle: i["+"](1)["*"](2)["*"](pi)["/"](24), axis: vec(1, 0, 0), origin: vec(0, 0, 0)})]);
        "65";
        cont.append(con);
        "66";
        con = s.clone();
        "67";
        ρσ_interpolate_kwargs.call(con, con.rotate, [ρσ_desugar_kwargs({angle: i["+"](1)["*"](2)["*"](pi)["/"](24), axis: vec(1, 0, 0), origin: vec(0, 0, 0)})]);
        "68";
        balls.append(con);
    }
    "70";
    motor.append(compound(cont));
    "71";
    motor.append(compound(balls));
    "75";
    sc = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({radius: .53, thickness: .05})]));
    "77";
    sce = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1["-u"]()["*"](7), 0, 0), vec(2.5, 0, 0) ]), shape: sc, color: vec(.8, 0, 0), emissive: true})]);
    "81";
    shaft = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vec(3.5, 0, 0), axis: vec(1["-u"]()["*"](11.25), 0, 0), radius: .495, color: color.gray(.6), texture: textures.metal})]);
    "85";
    gr = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.gear, [ρσ_desugar_kwargs({n: 9, radius: .455, addendum: .04, dedendum: .06, fradius: .01})]));
    "87";
    gre = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(3.5, 0, 0), vec(5, 0, 0) ]), shape: gr, color: color.gray(.6), texture: textures.metal})]);
    "90";
    motor.append(gre);
    "98";
    r0 = .495;
    "99";
    r1 = 1.3;
    "100";
    r2 = 2.7;
    "101";
    r3 = 3;
    "102";
    theta = pi["/"](12);
    "103";
    d = .25["*"](theta);
    "104";
    dlt = .05;
    "105";
    thk = 5.04;
    "107";
    p1 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: r1, angle1: 2["*"](pi)["-"](1["*"](pi)["/"](12))["+"](d), angle2: 2["*"](pi)["+"](pi["/"](12))["-"](1["*"](d)), ccw: true})]));
    "108";
    start = r1["*"](vec(cos(1["-u"]()["*"](pi)["/"](12)["+"](d)), sin(1["-u"]()["*"](pi)["/"](12)["+"](d)), 0));
    "110";
    middledir = vec(cos(pi["/"](12)), sin(pi["/"](12)), 0);
    "111";
    perp = ρσ_interpolate_kwargs.call(middledir, middledir.rotate, [ρσ_desugar_kwargs({angle: pi["/"](2), axis: vec(0, 0, 1)})]);
    "112";
    p1end = vec(ρσ_getitem(ρσ_getitem(p1, 1["-u"]()["*"](1)), 0), ρσ_getitem(ρσ_getitem(p1, 1["-u"]()["*"](1)), 1), 0);
    "113";
    endpt1 = p1end["+"](r2["-"](1["*"](r1))["*"](middledir));
    "114";
    nextstart = ρσ_interpolate_kwargs.call(start, start.rotate, [ρσ_desugar_kwargs({angle: pi["/"](6), axis: vec(0, 0, 1)})]);
    "115";
    endpt2 = nextstart["+"](r2["-"](1["*"](r1))["*"](middledir));
    "116";
    a = atan(endpt1.y["/"](endpt1.x));
    "117";
    p2 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: r2, angle1: .3["*"](a), angle2: a, ccw: false})]));
    "118";
    p1.extend(p2);
    "119";
    p3 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: r3, angle1: .3["*"](a), angle2: 1.5["*"](a)["+"](2["*"](d)), ccw: true})]));
    "120";
    p1.extend(p3);
    "121";
    b = atan(endpt2.y["/"](endpt2.x));
    "122";
    p4 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: r2, angle1: b, angle2: 1.5["*"](a)["+"](2["*"](d)), ccw: false})]));
    "123";
    p1.extend(p4);
    "125";
    pc = p1.copy();
    "126";
    for (var ρσ_Index5 = 1; ρσ_Index5["<"](12); ρσ_Index5++) {
        i = ρσ_Index5;
        "127";
        p = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, rotatepoints, [p1].concat([ρσ_desugar_kwargs({angle: i["*"](pi)["/"](6)})])));
        "128";
        pc.extend(p);
    }
    "129";
    pc.append(ρσ_getitem(pc, 0));
    "131";
    ex = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1["-u"]()["*"](6), 0, 0), vec(1["-u"]()["*"](6)["+"](thk), 0, 0) ]), shape: ρσ_list_decorate([ pc, ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({radius: r0})])) ]), color: color.gray(.7)})]);
    "132";
    motor.append(ex);
    "136";
    x = 1["-u"]()["*"](3.5);
    "137";
    n = 20;
    "138";
    L = 1.3;
    "139";
    thk = L["/"](50);
    "140";
    con = ρσ_list_decorate([]);
    "141";
    for (var ρσ_Index6 = 0; ρσ_Index6["<"](n); ρσ_Index6++) {
        i = ρσ_Index6;
        "142";
        r = r1["+"](i["*"](thk)["*"](2.5));
        "143";
        inner = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.rectangle, [ρσ_desugar_kwargs({width: 5.2, height: .35, roundness: .4})]));
        "144";
        outer = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.rectangle, [ρσ_desugar_kwargs({width: 5.3["+"](i["*"](.7)["/"](n)), height: .4["+"](i["*"](.6)["/"](n)), roundness: .4})]));
        "145";
        p = ρσ_list_decorate([ vec(x, r["*"](sin(pi["/"](12))), r["*"](cos(pi["/"](12)))), vec(x, r["+"](thk)["*"](sin(pi["/"](12))), r["+"](thk)["*"](cos(pi["/"](12)))) ]);
        "146";
        ex = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: p, shape: ρσ_list_decorate([ outer, inner ]), color: vec(.7, .5, .15)})]);
        "147";
        con.append(ex);
    }
    "148";
    ex = compound(con);
    "149";
    con = ρσ_list_decorate([ ex ]);
    "151";
    for (var ρσ_Index7 = 1; ρσ_Index7["<"](12); ρσ_Index7++) {
        i = ρσ_Index7;
        "152";
        c = ex.clone();
        "153";
        ρσ_interpolate_kwargs.call(c, c.rotate, [ρσ_desugar_kwargs({angle: i["*"](pi)["/"](6), axis: vec(1, 0, 0), origin: vec(0, 0, 0)})]);
        "154";
        con.append(c);
    }
    "156";
    motor.append(compound(con));
    "160";
    pos = vec(1["-u"]()["*"](1.3), 1.1, 0);
    "161";
    c0 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: pos, axis: vec(1["-u"]()["*"](.25), 1.2, .25)["-"](1["*"](pos)), radius: .05, color: color.blue})]);
    "162";
    con = ρσ_list_decorate([ c0 ]);
    "163";
    for (var ρσ_Index8 = 1; ρσ_Index8["<"](24); ρσ_Index8++) {
        i = ρσ_Index8;
        "164";
        c = c0.clone();
        "165";
        ρσ_interpolate_kwargs.call(c, c.rotate, [ρσ_desugar_kwargs({angle: i["*"](pi)["/"](6), axis: vec(1, 0, 0), origin: vec(c0.pos.x, 0, 0)})]);
        "166";
        con.append(c);
    }
    "167";
    motor.append(compound(con));
    "174";
    br = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: 1.21, angle1: 2["*"](pi)["-"](1["*"](atan(.2["/"](1.21)))), angle2: 2["*"](pi)["+"](atan(.2["/"](1.21))), ccw: true})]));
    "175";
    d = 1["+"](1.21["*"](cos(atan(.2["/"](1.21)))));
    "176";
    br.append(ρσ_list_decorate([ d, .2 ]));
    "177";
    br.append(ρσ_list_decorate([ d, 1["-u"]()["*"](.2) ]));
    "178";
    br.append(ρσ_getitem(br, 0));
    "179";
    bre = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(.4, 0, 0), vec(1.6, 0, 0) ]), color: vec(.1, .1, .15), texture: textures.rough, shape: br})]);
    "181";
    d = bre.clone();
    "182";
    ρσ_interpolate_kwargs.call(d, d.rotate, [ρσ_desugar_kwargs({angle: pi, axis: vec(1, 0, 0), origin: vec(1, 0, 0)})]);
    "187";
    bh = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.rectangle, [ρσ_desugar_kwargs({width: 1.3, height: .5, thickness: .1})]));
    "189";
    bhe1 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1, 0, 1.4), vec(1, 0, 2.9) ]), shape: bh, color: vec(.9, 1, .8), texture: textures.rough})]);
    "191";
    bhe2 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1, 0, 1["-u"]()["*"](1.4)), vec(1, 0, 1["-u"]()["*"](2.9)) ]), shape: bh, color: vec(.9, 1, .8), texture: textures.rough})]);
    "197";
    scrh = ρσ_list_decorate([ ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({radius: .15})])) ]);
    "198";
    scrh.append(ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.cross, [ρσ_desugar_kwargs({width: .2, thickness: .04})])));
    "200";
    scrhw1path = ρσ_list_decorate([ vec(1, .2, 2.7), vec(1, .3, 2.7) ]);
    "201";
    scrhw2path = ρσ_list_decorate([ vec(1, .2, 1["-u"]()["*"](2.7)), vec(1, .3, 1["-u"]()["*"](2.7)) ]);
    "202";
    scrhw1 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: scrhw1path, shape: scrh, texture: textures.metal})]);
    "203";
    scrhw2 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: scrhw2path, shape: scrh, texture: textures.metal})]);
    "208";
    scrb = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.rectangle, [ρσ_desugar_kwargs({scale: .05})]));
    "209";
    yi = .2;
    "210";
    yf = 1["-u"]()["*"](.3);
    "211";
    dy = yi["-"](1["*"](yf))["/"](20);
    "212";
    pts = ρσ_list_decorate([]);
    "213";
    for (var ρσ_Index9 = 0; ρσ_Index9["<"](20); ρσ_Index9++) {
        i = ρσ_Index9;
        "214";
        pts.append(vec(1, yi["-"](1["*"](i)["*"](dy)), 2.7));
    }
    "218";
    scrbe1 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: pts, shape: scrb, twist: .4, color: vec(1, 1, .9), texture: textures.rough})]);
    "221";
    pts = ρσ_list_decorate([]);
    "222";
    for (var ρσ_Index10 = 0; ρσ_Index10["<"](20); ρσ_Index10++) {
        i = ρσ_Index10;
        "223";
        pts.append(vec(1, yi["-"](1["*"](i)["*"](dy)), 1["-u"]()["*"](2.7)));
    }
    "224";
    scrbe2 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: pts, shape: scrb, twist: .4, color: vec(1, 1, .9), texture: textures.rough})]);
    "229";
    crdl = ρσ_list_decorate([ ρσ_list_decorate([ 2.8, 1["-u"]()["*"](.2) ]), ρσ_list_decorate([ 2.8, 1["-u"]()["*"](1.6) ]), ρσ_list_decorate([ 1["-u"]()["*"](2.8), 1["-u"]()["*"](1.6) ]), ρσ_list_decorate([ 1["-u"]()["*"](2.8), 1["-u"]()["*"](.2) ]) ]);
    "230";
    a = acos(.2["/"](1.1));
    "231";
    c = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 0 ]), radius: 1.25, angle1: 1.5["*"](pi)["-"](1["*"](a)), angle2: 1.5["*"](pi)["+"](a), ccw: true})]));
    "232";
    crdl.extend(c);
    "233";
    crdl.append(ρσ_getitem(crdl, 0));
    "234";
    crdl = ρσ_list_decorate([ crdl, ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({pos: ρσ_list_decorate([ 1["-u"]()["*"](2.2), 1["-u"]()["*"](.9) ]), radius: .1})])) ]);
    "235";
    crdle = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1.8, 1["-u"]()["*"](.05), 0), vec(.2, 1["-u"]()["*"](.05), 0) ]), shape: crdl, color: .7["*"](color.white), emissive: true})]);
    "241";
    col = vec(1, .5, .3);
    "242";
    cbl1i = ρσ_interpolate_kwargs.call(this, curve, [ρσ_desugar_kwargs({pos: ρσ_list_decorate([ ρσ_getitem(scrhw1path, 0), ρσ_getitem(scrhw1path, 0)["-"](1["*"](vec(0, 0, 1["-u"]()["*"](2)))) ]), radius: .03, color: col})]);
    "244";
    cbl1o = ρσ_interpolate_kwargs.call(this, curve, [ρσ_desugar_kwargs({pos: ρσ_list_decorate([ ρσ_getitem(scrhw1path, 0), ρσ_getitem(scrhw1path, 0)["-"](1["*"](vec(0, 0, 1["-u"]()["*"](1.5)))) ]), radius: .05, color: vec(0, 0, 1)})]);
    "246";
    cb12ipos = ρσ_list_decorate([ ρσ_getitem(scrhw2path, 0), ρσ_getitem(scrhw2path, 0), ρσ_getitem(scrhw2path, 0)["+"](vec(0, 0, 1["-u"]()["*"](.5))), ρσ_getitem(scrhw2path, 0)["+"](vec(0, 0, 1["-u"]()["*"](.5)))["+"](vec(0, 1["-u"]()["*"](2), 0)), ρσ_getitem(scrhw2path, 0)["+"](vec(0, 0, 1["-u"]()["*"](.5)))["+"](vec(0, 1["-u"]()["*"](2), 0))["+"](vec(0, 0, 7)) ]);
    "249";
    cbl2i = ρσ_interpolate_kwargs.call(this, curve, [ρσ_desugar_kwargs({pos: cb12ipos, radius: .03, color: col})]);
    "253";
    bra = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({radius: .6, thickness: .2})]));
    "254";
    brb = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({radius: 1.1, thickness: .2})]));
    "255";
    br1 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(2.5, 0, 0), vec(3.25, 0, 0) ]), shape: bra, color: color.gray(.7)})]);
    "256";
    br1 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(2.5, 0, 0), vec(3.25, 0, 0) ]), shape: brb, color: color.gray(.7)})]);
    "257";
    br2 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1["-u"]()["*"](7), 0, 0), vec(1["-u"]()["*"](7.75), 0, 0) ]), shape: bra, color: color.gray(.7), shininess: 1, texture: textures.metal})]);
    "259";
    br2 = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1["-u"]()["*"](7), 0, 0), vec(1["-u"]()["*"](7.75), 0, 0) ]), shape: brb, color: color.gray(.7), shininess: 1, texture: textures.metal})]);
    "264";
    bbrs1 = ρσ_list_decorate([]);
    "265";
    bbrs2 = ρσ_list_decorate([]);
    "266";
    for (var ρσ_Index11 = 0; ρσ_Index11["<"](7); ρσ_Index11++) {
        i = ρσ_Index11;
        "267";
        ex1 = ρσ_interpolate_kwargs.call(this, sphere, [ρσ_desugar_kwargs({pos: vec(3, .75["*"](cos(i["*"](2)["*"](pi)["/"](7))), .75["*"](sin(i["*"](2)["*"](pi)["/"](7)))), radius: .25})]);
        "269";
        bbrs1.append(ex1);
        "271";
        ex2 = ρσ_interpolate_kwargs.call(this, sphere, [ρσ_desugar_kwargs({pos: vec(1["-u"]()["*"](7.375), .75["*"](cos(i["*"](2)["*"](pi)["/"](7))), .75["*"](sin(i["*"](2)["*"](pi)["/"](7)))), radius: .25})]);
        "273";
        bbrs2.append(ex2);
    }
    "274";
    motor.append(ρσ_interpolate_kwargs.call(this, compound, [bbrs1].concat([ρσ_desugar_kwargs({texture: textures.rough})])));
    "275";
    motor.append(ρσ_interpolate_kwargs.call(this, compound, [bbrs2].concat([ρσ_desugar_kwargs({texture: textures.rough})])));
    "280";
    pp = ρσ_list_decorate(ρσ_interpolate_kwargs.call(paths, paths.arc, [ρσ_desugar_kwargs({angle1: 1["-u"]()["*"](pi)["/"](3.5), angle2: pi["/"](3.5), radius: 3.4})]));
    "281";
    var ρσ_Iter12 = pp;
    ρσ_Iter12 = ((typeof ρσ_Iter12[Symbol.iterator] === "function") ? (ρσ_Iter12 instanceof Map ? ρσ_Iter12.keys() : ρσ_Iter12) : Object.keys(ρσ_Iter12));
    for (var ρσ_Index12 of ρσ_Iter12) {
        p = ρσ_Index12;
        "282";
        p.y = 1["-u"]()["*"](p.x);
        "283";
        p.x = 1["-u"]()["*"](1);
    }
    "284";
    tt = ρσ_list_decorate([]);
    "285";
    var ρσ_Iter13 = pp;
    ρσ_Iter13 = ((typeof ρσ_Iter13[Symbol.iterator] === "function") ? (ρσ_Iter13 instanceof Map ? ρσ_Iter13.keys() : ρσ_Iter13) : Object.keys(ρσ_Iter13));
    for (var ρσ_Index13 of ρσ_Iter13) {
        p = ρσ_Index13;
        "286";
        tt.append(vec(1["-u"]()["*"](6), p.y, p.z));
    }
    "287";
    tt.reverse();
    "288";
    pp.extend(tt);
    "289";
    pp.append(ρσ_getitem(pp, 0));
    "290";
    ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: pp, shape: ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({radius: .3})])), color: color.red})]);
    "302";
    p1 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 1.5, 0 ]), radius: 1.5, angle1: 3["*"](pi)["/"](2), angle2: 2["*"](pi), ccw: true})]));
    "303";
    p2 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 2.7, .22 ]), radius: .3, angle1: pi["+"](pi["/"](4)), angle2: 2["*"](pi)["-"](1["*"](pi)["/"](4)), ccw: false})]));
    "304";
    p3 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 0, 2.1 ]), radius: 3.1, angle1: pi["+"](.95["*"](pi)["/"](4)), angle2: 2["*"](pi)["-"](1["*"](.95)["*"](pi)["/"](4)), ccw: false})]));
    "305";
    p4 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 1["-u"]()["*"](2.7), .22 ]), radius: .3, angle1: pi["+"](pi["/"](4)), angle2: 2["*"](pi)["-"](1["*"](pi)["/"](4)), ccw: false})]));
    "306";
    p5 = await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, makearc, [ρσ_desugar_kwargs({center: ρσ_list_decorate([ 1["-u"]()["*"](1.5), 0 ]), radius: 1.5, angle1: pi, angle2: 1.5["*"](pi), ccw: true})]));
    "308";
    p1.extend(p2);
    "309";
    p1.extend(p3);
    "310";
    p1.extend(p4);
    "311";
    p1.extend(p5);
    "312";
    p1.append(ρσ_getitem(p1, 0));
    "314";
    h1 = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({pos: ρσ_list_decorate([ 2, 1["-u"]()["*"](1.07) ]), radius: .15})]));
    "315";
    h2 = ρσ_list_decorate(ρσ_interpolate_kwargs.call(shapes, shapes.circle, [ρσ_desugar_kwargs({pos: ρσ_list_decorate([ 1["-u"]()["*"](2), 1["-u"]()["*"](1.07) ]), radius: .15})]));
    "317";
    ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: ρσ_list_decorate([ vec(1["-u"]()["*"](6), 1["-u"]()["*"](2.3), 0), vec(1["-u"]()["*"](1), 1["-u"]()["*"](2.3), 0) ]), shape: ρσ_list_decorate([ p1, h1, h2 ])})]);
    "323";
    L = 11;
    "324";
    r = 2;
    "325";
    R = 5;
    "326";
    t = .25;
    "327";
    x = 3["*"](t);
    "328";
    s = ρσ_list_decorate([ ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2), 1["-u"]()["*"](r)["/"](2)["-"](1["*"](t)) ]), ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2), 1["-u"]()["*"](r)["/"](2) ]), ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2)["+"](x), 1["-u"]()["*"](r)["/"](2) ]), ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2)["+"](x), R["/"](2) ]), ρσ_list_decorate([ L["/"](2)["-"](1["*"](x)), R["/"](2) ]), ρσ_list_decorate([ L["/"](2)["-"](1["*"](x)), 1["-u"]()["*"](r)["/"](2) ]), ρσ_list_decorate([ L["/"](2), 1["-u"]()["*"](r)["/"](2) ]), ρσ_list_decorate([ L["/"](2), 1["-u"]()["*"](r)["/"](2)["-"](1["*"](t)) ]), ρσ_list_decorate([ L["/"](2)["-"](1["*"](x))["-"](1["*"](t)), 1["-u"]()["*"](r)["/"](2)["-"](1["*"](t)) ]), ρσ_list_decorate([ L["/"](2)["-"](1["*"](x))["-"](1["*"](t)), R["/"](2)["-"](1["*"](t)) ]), ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2)["+"](x)["+"](t), R["/"](2)["-"](1["*"](t)) ]), ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2)["+"](x)["+"](t), 1["-u"]()["*"](r)["/"](2)["-"](1["*"](t)) ]), ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2)["+"](t), 1["-u"]()["*"](r)["/"](2)["-"](1["*"](t)) ]), ρσ_list_decorate([ 1["-u"]()["*"](L)["/"](2), 1["-u"]()["*"](r)["/"](2)["-"](1["*"](t)) ]) ]);
    "332";
    p = ρσ_list_decorate(ρσ_interpolate_kwargs.call(paths, paths.arc, [ρσ_desugar_kwargs({radius: R["/"](2), angle1: 0, angle2: pi["+"](pi["/"](4))})]));
    "333";
    ex = ρσ_interpolate_kwargs.call(this, extrusion, [ρσ_desugar_kwargs({path: p, shape: s, color: .6["*"](color.green), up: vec(1, 0, 0), texture: textures.rough})]);
    "334";
    ρσ_interpolate_kwargs.call(ex, ex.rotate, [ρσ_desugar_kwargs({angle: pi["/"](2), axis: vec(0, 0, 1)})]);
    "335";
    ex.pos = vec(1["-u"]()["*"](2.2), 0, 1["-u"]()["*"](.65));
    "337";
    run = true;
    "338";
    async function running(b) {
        "339";
        "340";
        if ((b.text === "Run" || typeof b.text === "object" && ρσ_equals(b.text, "Run"))) {
            b.text = "Pause";
        } else {
            b.text = "Run";
        }
        "342";
        run = !run;
    };
    if (!running.__argnames__) Object.defineProperties(running, {
        __argnames__ : {value: ["b"]},
        __module__ : {value: null}
    });

    "344";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Pause", bind: running})]);
    "350";
    scene.append_to_caption("\nTo rotate \"camera\", drag with right button or Ctrl-drag.\nTo zoom, drag with middle button or Alt/Option depressed, or use scroll wheel.\n  On a two-button mouse, middle is left + right.\nTo pan left/right and up/down, Shift-drag.\nTouch screen: pinch/extend to zoom, swipe or two-finger rotate.");
    "353";
    angl = pi["/"](400);
    "355";
    while (true) {
        "356";
        (await rate(100));
        "357";
        if (run) {
            "358";
            var ρσ_Iter14 = motor;
            ρσ_Iter14 = ((typeof ρσ_Iter14[Symbol.iterator] === "function") ? (ρσ_Iter14 instanceof Map ? ρσ_Iter14.keys() : ρσ_Iter14) : Object.keys(ρσ_Iter14));
            for (var ρσ_Index14 of ρσ_Iter14) {
                o = ρσ_Index14;
                "359";
                ρσ_interpolate_kwargs.call(o, o.rotate, [ρσ_desugar_kwargs({angle: angl, axis: vec(1["-u"]()["*"](1), 0, 0)})]);
            }
        }
    }
};
if (!__main__.__module__) Object.defineProperties(__main__, {
    __module__ : {value: null}
});

;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
// END JAVASCRIPT

//--><!]]></script>
</div>